% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/derive.R
\name{sum_if}
\alias{sum_if}
\title{Conditional sum by metadata field}
\usage{
sum_if(metadata_field, dimension = c("rows", "cols"), label_fn = NULL)
}
\arguments{
\item{metadata_field}{Character string specifying which metadata field to group by
Common values: "ival" (group by value label), "ivar" (group by variable name)}

\item{dimension}{Which dimension to collapse: "rows" or "cols"}

\item{label_fn}{Optional function to generate labels for collapsed groups
Signature: function(group_key, group_metadata_list)}
}
\value{
A derive specification object for use with derive()
}
\description{
Groups rows or columns by a metadata field and sums cells within each group.
This operation is ADDITIVE - it adds new derived rows/columns while keeping
all originals. Use hide operations to show only derived cells.
}
\examples{
\dontrun{
# Create a grid table: compute all cells, derive collapsed, hide originals
result <- tab(data, response_match(get_variable_labels = A2, A2), A2) \%>\%
  derive(sum_if("ival", dimension = "cols")) \%>\%
  hide_cols_except("Daily|Weekly|Monthly|Never")  # Show only derived columns
}
}
